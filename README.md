# CRWN Clothing

Версия: v1.0.0

[Демо](https://crwn-webapp.herokuapp.com/)

Хостинг реализован с использованием [Heroku](https://www.heroku.com/). Дождитесь загрузки приложения.

## Описание

Данный проект реализован в рамках учебного курса [Complete React Developer in 2020 (w/ Redux, Hooks, GraphQL)](https://www.udemy.com/course/complete-react-developer-zero-to-mastery/) на [Udemy](https://www.udemy.com/) для приобретения навыка создания современных веб-приложений с использованием таких технологий, как React, Router, Redux, Saga, Thunk, Context API, GraphQL, Apollo, Hooks, React Suspense + React Lazy, Styled-Components.

Проект представляет собой онлайн-магазин модной одежды и обуви.

## Используемые технологии

HTML, CSS, JavaScript (ES6+), React, React Hooks, React Router, Redux, Redux Saga, styled-components, Firebase, Stripe, Git, Webpack, Node.js, Express

## Функциональные возможности

1. регистрация и авторизация пользователя (в т.ч. с помощью Google):
   - аутентификация реализована с помощью Firebase Auth;
   - данные пользователя хранятся в Firebase Firestore;
   - если пользователь не вышел из учётной записи и повторно заходит на страницу приложения, повторная авторизация не требуется: данные загружаются из Firebase;
   - редирект авторизованного пользователя на главную страницу при обращении к странице авторизации по прямой ссылке;
   - после успешной регистрации нового пользователя происходит его авторизация и редирект на главную страницу;
2. навигация по каталогу товаров (реализована вложенная маршрутизация):
   - из главной страницы можно сразу перейти на страницу конкретной коллекции и ознакомиться со всеми её товарами;
   - из навигационного меню можно перейти на страницу предварительного просмотра всех коллекций, где для каждой коллекции рендерится по 4 товара;
3. корзина покупателя:
   - в навигационном меню рендерится иконка корзины, отображающая текущее количество добавленных товаров;
   - нажатие на иконку корзины отобразит подробную информацию о каждом добавленном товаре (фото, наименование, количество и цену), а также кнопку перехода на страницу оформления заказа;
   - добавить товар в корзину можно со страницы конкретной коллекции, со страницы предварительного просмотра всех коллекций, со страницы оформления заказа;
   - удалить товар из корзины можно на странице оформления заказа;
   - данные о добавленных в корзину товарах сохраняются в localStorage (используется [Redux Persist](https://github.com/rt2zz/redux-persist));
   - когда пользователь выходит из учётной записи, товары из корзины удаляются;
4. оформление заказа:
   - на странице оформления заказа отображается подробная информация для каждого добавленного в корзину товара (фото, наименование, количество и цена), кнопки добавления и удаления одной единицы конкретного товара, кнопка удаления всех единиц конкретного товара из корзины, суммарная стоимость заказа, а также кнопка оплаты заказа;
   - обработка онлайн-платежа реализована с помощью Stripe.

## Оптимизация производительности

Для повышения производительности рендеринга компонентов используется библиотека [Reselect](https://github.com/reduxjs/reselect).

[Нормализованы](https://redux.js.org/tutorials/essentials/part-6-performance-normalization#normalizing-data) данные, используемые для рендеринга страницы конкретной коллекции товаров.

## Тестирование

Для типизации пропсов компонентов используется библиотека [PropTypes](https://github.com/facebook/prop-types).

## Как развернуть проект

Клонируйте репозиторий:

`git clone https://github.com/aleksandr-e-lebedev/crwn-clothing.git`

Для установки необходимых пакетов выполните:

`npm install`

### Доступные скрипты

Находясь в корневой директории проекта, вы можете выполнить:

**`npm run server`**

Запускает сервер для обработки онлайн-платежа в режиме разработки (с hot reload). <br />
Адрес сервера - [http://localhost:5000](http://localhost:5000).

**`npm run client`**

Запускает приложение в режиме разработки.<br />
Для просмотра в браузере перейдите по адресу [http://localhost:3000](http://localhost:3000).

Если вы сделаете какие-либо изменения в коде, страница будет перезагружена.

**`npm run dev`**

Одновременно запускает и сервер, и приложение в режиме разработки.

**`npm run start`**

Запускает сервер в режиме `production`.<br />
Для работы сервера в этом режиме необходимо в директории `server` создать конфигурационный файл `.env`, указав в нём переменную окружения `STRIPE_SECRET_KEY` в соответствии со следующим синтаксисом: `NAME=VALUE`, где `NAME` - это имя переменной, а `VALUE` - её значение.

**`npm run build`**

Собирает приложение для продакшена в папку `build`.<br />
Сборка минимизирована и оптимизирована для лучшей производительности, а имена файлов содержат хэши.<br />
Приложение готово для деплоя.<br />

### Дополнительные скрипты

Находясь в директории `client`, вы можете выполнить:

**`npm test`**

Запускает тестирование приложения.<br />
На текущий момент тестирование не реализовано.

**`npm run eject`**

**Примечание: операцию `eject` нельзя отменить!**

Если вас не устраивает инструмент сборки и варианты конфигурации, вы в любое время можете «извлечь» конфигурацию.<br />
Скрипт скопирует все файлы конфигурации, а также такие зависимости, как webpack, Babel, ESLint и т.д., прямо в ваш проект, чтобы вы имели полный контроль над ними.

**`npm run lint`**

Запускает ESLint.
